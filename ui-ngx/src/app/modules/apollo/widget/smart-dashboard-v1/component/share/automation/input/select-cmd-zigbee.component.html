<div style="min-width: 390px;">

  <mat-toolbar color="primary">
    <h2>Danh sách trạng thái cuối thiết bị Zigbee</h2>
    <span fxFlex></span>
    <button (click)="cancel()"
            mat-icon-button
            type="button">
      <mat-icon class="material-icons">close</mat-icon>
    </button>
  </mat-toolbar>
  <mat-progress-bar *ngIf="isLoading$ | async" color="warn" mode="indeterminate">
  </mat-progress-bar>
  <div *ngIf="!(isLoading$ | async)" style="height: 4px;"></div>

  <div mat-dialog-content style="width: 100%">
    <label> Thay đổi trạng thái thiết bị để lấy trạng thái cuối.</label>
    <section class="example-container mat-elevation-z8" tabindex="0">
      <table [dataSource]="dataSource" mat-table matSort>

        <!-- Star Column -->
        <ng-container matColumnDef="zbTimeUpdate">
          <th *matHeaderCellDef aria-label="row actions" mat-header-cell mat-sort-header>Time Update</th>
          <td *matCellDef="let element" mat-cell>
            {{element?.zbTimeUpdate}}
          </td>
        </ng-container>

        <!-- Position Column -->
        <ng-container matColumnDef="address">
          <th *matHeaderCellDef mat-header-cell> Address</th>
          <td *matCellDef="let element" mat-cell> {{element?.zbStateParams?.addr}} </td>
        </ng-container>

        <!-- Weight Column -->
        <ng-container matColumnDef="endpoint">
          <th *matHeaderCellDef mat-header-cell> EP</th>
          <td *matCellDef="let element" mat-cell> {{element?.zbStateParams?.ep}} </td>
        </ng-container>

        <!-- Symbol Column -->
        <ng-container matColumnDef="nameState">
          <th *matHeaderCellDef mat-header-cell> Name</th>
          <td *matCellDef="let element" mat-cell> {{element?.zbStateParams?.state?.name}} </td>
        </ng-container>

        <!-- Star Column -->
        <ng-container matColumnDef="value">
          <th *matHeaderCellDef aria-label="row actions" mat-header-cell>Value</th>
          <td *matCellDef="let element" mat-cell>
            {{element?.zbStateParams?.state?.val}}
          </td>
        </ng-container>


        <!-- Star Column -->
        <ng-container matColumnDef="tool" stickyEnd>
          <th *matHeaderCellDef aria-label="row actions" mat-header-cell>Apply</th>
          <td *matCellDef="let element" mat-cell>
            <button (click)="save(element)" mat-flat-button>
              <mat-icon>done</mat-icon>
            </button>

          </td>
        </ng-container>
        <tr *matHeaderRowDef="displayedColumns" mat-header-row></tr>
        <tr *matRowDef="let row; columns: displayedColumns;" mat-row></tr>
      </table>
    </section>
  </div>

  <div fxLayoutAlign="end center" mat-dialog-actions>
    <button (click)="cancel()" [disabled]="(isLoading$ | async)"
            cdkFocusInitial
            color="primary"
            mat-button
            type="button">
      {{ 'action.cancel' | translate }}
    </button>
    <!--    <button (click)="addTrigger = !addTrigger;" [disabled]="(isLoading$ | async)"
                color="primary"
                mat-raised-button
                type="submit">
          {{ 'action.add' | translate }}
        </button>-->
  </div>

</div>
<!--

<h3 mat-dialog-controller-title>Danh sách trạng thái thiết bị Zigbee</h3>

<div class="mat-dialog-controller-content" mat-dialog-controller-content>
  <section class="example-container mat-elevation-z8" tabindex="0">
    <table [dataSource]="dataSource" mat-table matSort>

      &lt;!&ndash; Name Column &ndash;&gt;
      <ng-container matColumnDef="no" sticky>
        <th *matHeaderCellDef mat-header-cell> No</th>
        <td *matCellDef="let element; let idx = index" mat-cell> {{idx}} </td>
      </ng-container>

      &lt;!&ndash; Position Column &ndash;&gt;
      <ng-container matColumnDef="address">
        <th *matHeaderCellDef mat-header-cell > Address</th>
        <td *matCellDef="let element" mat-cell> {{element?.zbStateParams?.addr}} </td>
      </ng-container>

      &lt;!&ndash; Weight Column &ndash;&gt;
      <ng-container matColumnDef="endpoint">
        <th *matHeaderCellDef mat-header-cell> End point</th>
        <td *matCellDef="let element" mat-cell> {{element?.zbStateParams?.ep}} </td>
      </ng-container>

      &lt;!&ndash; Symbol Column &ndash;&gt;
      <ng-container matColumnDef="nameState">
        <th *matHeaderCellDef mat-header-cell> Name State</th>
        <td *matCellDef="let element" mat-cell> {{element?.zbStateParams?.state?.name}} </td>
      </ng-container>

      &lt;!&ndash; Star Column &ndash;&gt;
      <ng-container matColumnDef="value">
        <th *matHeaderCellDef aria-label="row actions" mat-header-cell>Value</th>
        <td *matCellDef="let element" mat-cell>
          {{element?.zbStateParams?.state?.val}}
        </td>
      </ng-container>

      &lt;!&ndash; Star Column &ndash;&gt;
      <ng-container matColumnDef="zbTimeUpdate" >
        <th *matHeaderCellDef mat-sort-header aria-label="row actions" mat-header-cell>Time Update</th>
        <td *matCellDef="let element" mat-cell>
          {{element?.zbTimeUpdate}}
        </td>
      </ng-container>
      &lt;!&ndash; Star Column &ndash;&gt;
      <ng-container matColumnDef="tool">
        <th *matHeaderCellDef aria-label="row actions" mat-header-cell>Apply</th>
        <td *matCellDef="let element" mat-cell>
          <button (click)="save(element)" mat-flat-button>
            <mat-icon>done</mat-icon>
          </button>

        </td>
      </ng-container>
      <tr *matHeaderRowDef="displayedColumns" mat-header-row></tr>
      <tr *matRowDef="let row; columns: displayedColumns;" mat-row></tr>
    </table>
  </section>
</div>

<div align="center" mat-dialog-controller-actions>
  <button
    cdkFocusInitial mat-button mat-dialog-controller-close>Ok
  </button>
</div>
-->
